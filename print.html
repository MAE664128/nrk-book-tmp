<!DOCTYPE HTML>
<html lang="ru" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Превью NRK-PRJ</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="mail/mail_extractor.html"><strong aria-hidden="true">1.</strong> Отслеживание и извлечение почтовых сообщений</a></li><li class="chapter-item expanded "><a href="mail/attache_mail_extractor.html"><strong aria-hidden="true">2.</strong> Извлечение файлов из почтовых сообщений</a></li><li class="chapter-item expanded "><a href="mail/geo_extractor.html"><strong aria-hidden="true">3.</strong> Извлечение геолокации из писем</a></li><li class="chapter-item expanded "><a href="mail/mail_find.html"><strong aria-hidden="true">4.</strong> Фильтрация/Поиск писем</a></li><li class="chapter-item expanded "><a href="mail/mail_label.html"><strong aria-hidden="true">5.</strong> Метки к письму</a></li><li class="chapter-item expanded "><a href="post/mail_to_post.html"><strong aria-hidden="true">6.</strong> Создание поста из письма</a></li><li class="chapter-item expanded "><a href="post/to_to.html"><strong aria-hidden="true">7.</strong> Быстрый переход от письма к посту и обратно</a></li><li class="chapter-item expanded "><a href="post/post_find.html"><strong aria-hidden="true">8.</strong> Фильтрация/Поиск постов</a></li><li class="chapter-item expanded "><a href="post/post_label.html"><strong aria-hidden="true">9.</strong> Метки к посту</a></li><li class="chapter-item expanded "><a href="post/post_attach.html"><strong aria-hidden="true">10.</strong> Редактор: добавить видео из вложения</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Превью NRK-PRJ</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="Отслеживание-и-извлечение-почтовых-сообщений"><a class="header" href="#Отслеживание-и-извлечение-почтовых-сообщений">Отслеживание и извлечение почтовых сообщений</a></h1>
<p>Приложение позволяет работать с почтовыми ящиками через 
протокол <a href="https://ru.wikipedia.org/wiki/IMAP">IMAP</a>.</p>
<p>Количество почтовых ящиков (пока что) не ограничено. 
Можно подключать сразу несколько почтовых ящиков.</p>
<p>Все сообщения отправленные на почту в раздел <code>Входищие (INBOX)</code>
будут зарегистрированы приложением и сохранены в БД.</p>
<p><img src="mail/../img/send_mail.gif" alt="send_mail.gif" /></p>
<p>Порядок действий на видео:</p>
<ul>
<li>заходим в почту, создаем новое письма и вводим текст;</li>
<li>отправляем письмо;</li>
<li>проверяем отобразилось ли письмо в программе 
(в левой навигационной панели);</li>
<li>для просмотра щелкаем по карточке письма и его 
содержимое будет отображено в правой-рабочей области.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="Извлечение-файлов-из-почтовых-сообщений"><a class="header" href="#Извлечение-файлов-из-почтовых-сообщений">Извлечение файлов из почтовых сообщений</a></h1>
<p>Если к письму будут прикреплены файлы, 
то они будут выгружены и сохранены в указанной 
при настройке приложения папке.</p>
<p>Сейчас поддерживается работа с файлами <code>mp4</code>, <code>jpg</code>, <code>png</code> и <code>pdf</code>.
Другие форматы файлов игнорируются. </p>
<p><img src="mail/../img/attach.gif" alt="attach.gif" /></p>
<p>Порядок действий на видео:</p>
<ul>
<li>заходим в почту, создаем новое письма и прикрепляем файл;</li>
<li>отправляем письмо;</li>
<li>проверяем отобразилось ли письмо в программе 
(в левой навигационной панели);</li>
<li>для просмотра щелкаем по карточке письма и его 
содержимое будет отображено в правой-рабочей области;</li>
<li>под областью с текстом находится горизонтальный контейнер в 
котором содержатся файлы из письма;</li>
<li>при щелчке ЛКМ по иконке файла будет открыто модальное окно с 
демонстрацией содержимого файла.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="Извлечение-геолокации-из-писем"><a class="header" href="#Извлечение-геолокации-из-писем">Извлечение геолокации из писем</a></h1>
<p>Имеется два встроенных механизма фиксации геолокации:</p>
<ol>
<li>Если геолокация (широта и долгота) указана в тексте письма.</li>
<li>Если геолокация записана в файле (например в файле фотографии).</li>
</ol>
<p>После извлечения координат из письма они записываются в БД. 
Также, выполняется попытка определения названия города, района, улицы, дома.
Благодаря сохранению геолокации можно выполнять <a href="mail/mail_find.html">поиск писем</a> 
по названию города, района, улицы, дома.</p>
<h2 id="Координаты-в-тексте"><a class="header" href="#Координаты-в-тексте">Координаты в тексте</a></h2>
<p><img src="mail/../img/geo_text.gif" alt="geo_text.gif" /></p>
<p>Порядок действий на видео:</p>
<ul>
<li>заходим в почту, создаем новое письмо в тексте которого указываем кооржинаты;</li>
<li>отправляем письмо;</li>
<li>проверяем отобразилось ли письмо в программе 
(в левой навигационной панели);</li>
<li>для просмотра щелкаем по карточке письма и его 
содержимое будет отображено в правой-рабочей области;</li>
<li>над областью с текстом по центру находится выпадающий список с перечнем зарегистрированных локаций;</li>
<li>при щелчке ЛКМ по элементу из списка будет открыто новое окно с картой.</li>
</ul>
<h2 id="Координаты-в-фотографии"><a class="header" href="#Координаты-в-фотографии">Координаты в фотографии</a></h2>
<p><img src="mail/../img/geo_attach.gif" alt="geo_attach.gif" /></p>
<p>Порядок действий на видео:</p>
<ul>
<li>заходим в почту, создаем новое письмо и прикрепляем файл 
в котором хранится информация о координатах;</li>
<li>отправляем письмо;</li>
<li>проверяем отобразилось ли письмо в программе 
(в левой навигационной панели);</li>
<li>для просмотра щелкаем по карточке письма и его 
содержимое будет отображено в правой-рабочей области;</li>
<li>над областью с текстом по центру находится выпадающий список с перечнем зарегистрированных локаций;</li>
<li>при щелчке ЛКМ по элементу из списка будет открыто новое окно с картой.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ФильтрацияПоиск-писем"><a class="header" href="#ФильтрацияПоиск-писем">Фильтрация/Поиск писем</a></h1>
<p>Все письма располагаются списком в левой части. 
По умолчанию список содержит 25 последних писем удовлетворяющих условиям фильтра/поиска.
В конце списка располагается кнопка &quot;Больше писем&quot;, 
которая проверит есть ли еще письма в БД и добавит их в конец списка.</p>
<p>Доступна фильтрация по дате создания письма:</p>
<ul>
<li>за все время;</li>
<li>за сегодня;</li>
<li>за вчера;</li>
<li>за неделю;</li>
<li>за месяц.</li>
</ul>
<p>Поиск работает по теме письма или по локации письма. 
Можно указать город (улицу, район) и если у письма есть 
геометка с этим городом, то оно покажется в списке.</p>
<p><img src="mail/../img/mail_find.gif" alt="mail_find.gif" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="Метки-к-письму"><a class="header" href="#Метки-к-письму">Метки к письму</a></h1>
<p>К каждому письму можно назначить несколько меток. </p>
<p><img src="mail/../img/mail_label.gif" alt="mail_label.gif" /></p>
<p>Порядок действий на видео:</p>
<ul>
<li>над областью с текстом письма слева находится выпадающий список с 
перечнем доступных меток для письма;</li>
<li>при выборе или отмены выбора изменения автоматически сохранятся в БД.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="Создание-поста-из-письма"><a class="header" href="#Создание-поста-из-письма">Создание поста из письма</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="Быстрый-переход-от-письма-к-посту-и-обратно"><a class="header" href="#Быстрый-переход-от-письма-к-посту-и-обратно">Быстрый переход от письма к посту и обратно</a></h1>
<p>Если пост был создан из письма, то между ними образуется связь, 
позволяющая выполнять быстрый переход от письма с обращением к посту на эту тему.</p>
<p>Одно письмо может ссылаться только на один пост.
Один пост может ссылаться сразу на несколько писем. 
Если письмо одно, то отображается кнопка (как на видео), если писем несколько, 
то кнопка меняется на выпадающий список.</p>
<p><img src="post/../img/to_to.gif" alt="to_to.gif" /></p>
<p>Порядок действий на видео:</p>
<ul>
<li>над областью с текстом письма справа находится кнопка которая, 
перенаправляет к посту;</li>
<li>в окне с постом в том же месте располагается кнопка возврата к письму.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ФильтрацияПоиск-постов"><a class="header" href="#ФильтрацияПоиск-постов">Фильтрация/Поиск постов</a></h1>
<p>Поиск постов в левой панели работает аналогично поиску писем. 
Если пост был создан от письма у которого присутствовали геометки, 
то при выполнении поиска по постам, можно также искать по названию городов и улиц.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="Метки-к-посту"><a class="header" href="#Метки-к-посту">Метки к посту</a></h1>
<p>Аналогично как с письмами, для постов можно назначать метки.
Стоит отметить, что метки писем и метки постов - это разные метки. </p>
<p><img src="post/../img/post_label.gif" alt="post_label.gif" /></p>
<p>Порядок действий на видео:</p>
<ul>
<li>над областью с текстом письма слева находится выпадающий список с 
перечнем доступных меток для поста;</li>
<li>при выборе или отмены выбора изменения автоматически сохранятся в БД.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="Редактор-добавить-видео-из-вложения"><a class="header" href="#Редактор-добавить-видео-из-вложения">Редактор: добавить видео из вложения</a></h1>
<p>Редактор постов позволяет добавлять видео ролики и картинки к тексту.</p>
<p>Справа от области редактирования текста располагается блок с вложениями.
Вложения делятся на два вида:</p>
<ul>
<li>вложения поста;</li>
<li>вложения писем от которых был создан пост.</li>
</ul>
<p>Для добавления видео в текст необходимо зажать ЛКМ над изображением файла и 
перетянуть его в область редактирования текста, 
не отпуская ЛКМ до момента попадания курсора в область редактирования текста.</p>
<p><img src="post/../img/post_attach_mail.gif" alt="post_attach_mail.gif" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
